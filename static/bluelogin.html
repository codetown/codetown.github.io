<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body>
    <div
      class="min-h-screen flex items-center justify-center bg-blue-600 dark:bg-zinc-800"
    >
      <div
        class="bg-white dark:bg-zinc-900 rounded-lg shadow-lg overflow-hidden flex w-11/12 md:w-4/5 lg:max-w-4xl"
      >
        <div class="w-full md:w-1/2 p-8">
          <div class="mb-8">
            <img
              src="https://placehold.co/40x40"
              alt="Logo"
              class="inline-block"
            />
            <h2 class="text-3xl font-bold mt-4">Welcome to</h2>
            <h1 class="text-4xl font-bold text-zinc-800 dark:text-zinc-200">
              birdoo
            </h1>
          </div>
          <form>
            <div class="mb-4">
              <label
                for="username"
                class="block text-zinc-700 dark:text-zinc-300"
                >Username</label
              >
              <input
                type="text"
                id="username"
                class="w-full p-2 border rounded mt-1"
                value="PaoloSpaz1"
              />
            </div>
            <div class="mb-4">
              <label
                for="password"
                class="block text-zinc-700 dark:text-zinc-300"
                >Password</label
              >
              <input
                type="password"
                id="password"
                class="w-full p-2 border rounded mt-1"
                value="********"
              />
            </div>
            <div class="flex items-center justify-between mb-4">
              <label class="flex items-center">
                <input type="checkbox" class="form-checkbox" />
                <span class="ml-2 text-zinc-700 dark:text-zinc-300"
                  >Remember me</span
                >
              </label>
              <a href="#" class="text-blue-500 dark:text-blue-400"
                >Forgot Password?</a
              >
            </div>
            <button
              class="w-full bg-blue-500 dark:bg-blue-700 text-white p-2 rounded"
            >
              LOGIN
            </button>
          </form>
          <div class="mt-4 text-center">
            <p class="text-zinc-700 dark:text-zinc-300">
              Don't have an account?
              <a href="#" class="text-blue-500 dark:text-blue-400">Sign up</a>
            </p>
          </div>
          <div class="mt-4 text-center text-zinc-500 dark:text-zinc-400">
            <a href="#" class="mr-2">FAQ</a> |
            <a href="#" class="mx-2">Features</a> |
            <a href="#" class="ml-2">Support</a>
          </div>
        </div>
        <div
          class="w-full md:w-1/2 bg-blue-700 dark:bg-zinc-800 text-white p-8 relative"
        >
          <h2 class="text-2xl font-bold mb-4">About Birdoo</h2>
          <p class="mb-4">
            Lorem Ipsum is simply dummy text of the printing and typesetting
            industry. Lorem Ipsum has been the industry's standard dummy text
            ever since the 1500s, when an unknown printer took a galley of type
            and scrambled it to make a type specimen book. It has survived not
            only five centuries,
          </p>
          <h3 class="text-xl font-bold mb-2">Features</h3>
          <ul class="list-disc list-inside mb-4">
            <li>
              Lorem Ipsum is simply dummy text of the printing and typesetting
              industry.
            </li>
            <li>Lorem Ipsum has been the industry's standard</li>
            <li>
              Lorem Ipsum is simply dummy text of the printing and typesetting
              industry.
            </li>
          </ul>
          <button onclick="downloadModifiedHtml()">下载</button>
        </div>
      </div>
    </div>
    <script src="./organize.js"></script>
    <script>
      // const ele = document.getElementById('username');
      // const computedStyle = window.getComputedStyle(ele);
      // const cStyle = convertComputedStyleToObj(computedStyle);
      // ele.removeAttribute('class');
      // const defaultStyle = window.getComputedStyle(ele);
      // const dStyle = convertComputedStyleToObj(defaultStyle);
      // const nonDefaultStyles = {};
      // for (let property in cStyle) {
      //   const condition1 = !dStyle.hasOwnProperty(property)
      //   const condition2 = cStyle[property] != dStyle[property]
      //   if (condition1 || condition2)
      //     nonDefaultStyles[property] = cStyle[property];
      // }
      // const resultCSS = {}
      // for (let key in nonDefaultStyles) {
      //   if (nonDefaultStyles.hasOwnProperty('margin') && key.startsWith('margin-')) {
      //     continue
      //   }
      //   if (nonDefaultStyles.hasOwnProperty('padding') && key.startsWith('padding-')) {
      //     continue
      //   }
      //   const reg1 = /^border?.*-radius$/;
      //   if (nonDefaultStyles.hasOwnProperty('border-radius') && key != 'border-radius' && reg1.test(key)) {
      //     continue
      //   }
      //   const reg2 = /^border(?:-top|-bottom|-left|-right|-width|-color|-style)?$/
      //   if (nonDefaultStyles.hasOwnProperty('border') && key != 'border' && reg2.test(key)) {
      //     continue
      //   }
      //   if (nonDefaultStyles.hasOwnProperty('padding-left') && key != 'background' && key.startsWith('background-')) {
      //     continue
      //   }
      //   resultCSS[key] = nonDefaultStyles[key];
      // }
      // const styleText = Object.keys(resultCSS).map(key => `${key}:${resultCSS[key]}`).join(';');
      // console.info(styleText);
      // document.getElementById('new-input').style.cssText = styleText;
      // // 输出非默认样式
      // console.log(nonDefaultStyles);
      // function getAuthorStyle(element) {
      //   let resultCSSText = "";
      //   // 遍历所有样式表
      //   for (let sheet of document.styleSheets) {
      //     try {
      //       // 遍历每个样式表中的规则
      //       for (let rule of sheet.cssRules) {
      //         if (
      //           element.matches(rule.selectorText) &&
      //           element.className
      //             .split(" ")
      //             .includes(rule.selectorText.replace(".", ""))
      //         ) {
      //           const regex = /\{ (.*?) \}/;
      //           const match = rule.cssText.match(regex);
      //           if (match) {
      //             const extractedText = match[1].replace("none", "block");
      //             resultCSSText += extractedText;
      //           } else {
      //             console.log("没有找到匹配项");
      //           }
      //         }
      //       }
      //     } catch (e) {
      //       console.warn("Cannot access stylesheet due to CORS policy");
      //     }
      //   }
      //   return resultCSSText;
      // }
      // const special = [
      //   "header",
      //   "nav",
      //   "main",
      //   "aside",
      //   "footer",
      //   "caption",
      //   "form",
      //   "input",
      //   "textarea",
      //   "button",
      // ];
      // const cssMap = {};
      // Array.from(document.querySelectorAll("[class]")).forEach((element) => {
      //   const authorStyle = getAuthorStyle(element).trim();
      //   let newClassName = element.className
      //     .trim()
      //     .replaceAll(" ", "")
      //     .replaceAll("/", "")
      //     .replaceAll(":", "")
      //     .replaceAll("-", "");
      //   if (authorStyle != "" && newClassName != "") {
      //     if (newClassName.length > 13) {
      //       const arrClassName = element.className.split(" ");
      //       newClassName = "";
      //       arrClassName.forEach((item) => {
      //         newClassName += item[0];
      //       });
      //     }
      //     if (newClassName.length < 8) {
      //       newClassName = element.tagName.toLowerCase() + "-" + newClassName;
      //     }
      //     if (special.includes(element.tagName.toLowerCase())) {
      //       newClassName = element.tagName.toLowerCase();
      //     }
      //     cssMap[newClassName] = authorStyle;
      //     element.className = newClassName;
      //   }
      // });
      // const styleText = Object.keys(cssMap)
      //   .map((key) => `.${key} {${cssMap[key]}}`)
      //   .join("\n");
      // const styleElement = document.createElement("style");
      // styleElement.textContent = styleText;
      // document.head.appendChild(styleElement);
      // // const blob = new Blob([styleText], { type: 'text/css' });
      // // const url = URL.createObjectURL(blob);
      // // const a = document.createElement('a');
      // // a.href = url;
      // // a.download = 'custom_styles.css';
      // // a.click();
      // // URL.revokeObjectURL(url);
      // function downloadModifiedHtml() {
      //   // 获取整个 HTML 文档的内容
      //   document
      //     .querySelectorAll("script")
      //     ?.forEach((script) => script.remove());
      //   const htmlContent =
      //     "<!DOCTYPE html>" + document.documentElement.outerHTML;

      //   // 创建 Blob 对象
      //   const blob = new Blob([htmlContent], { type: "text/html" });

      //   // 创建 Blob URL
      //   const url = URL.createObjectURL(blob);

      //   // 创建下载链接
      //   const a = document.createElement("a");
      //   a.href = url;
      //   a.download = "modified.html";
      //   a.style.display = "none";

      //   // 添加到 DOM
      //   document.body.appendChild(a);

      //   // 触发点击
      //   a.click();

      //   // 清理工作
      //   document.body.removeChild(a);
      //   URL.revokeObjectURL(url);
      // }
    </script>
  </body>
</html>
